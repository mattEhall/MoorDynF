FC = gfortran
FFLAGS = -g -x f95-cpp-input -ffree-line-length-none -DFPE_TRAP_ENABLED

SOURCES_STD =  \
  ModMesh.f90 \
  ModMesh_Types.f90 \
  NWTC_IO.f90 \
  NWTC_Library.f90 \
  NWTC_Num.f90 \
  SingPrec.f90

SOURCES_SYS = SysGnuLinux.f90

SOURCES = $(SOURCES_STD) $(SOURCES_SYS)

INCLUDE = -I../../NWTC_Library/source -I.

OBJ = $(SOURCES:.f90=.o)

.SUFFIXES : .f90 .o

.f90.o:
	$(FC) $(FFLAGS) $(INCLUDE) $< -c -o $@

default: libnwtc.a

example example.exe : libnwtc.a ExampleModule.o
	$(FC) -o example.exe ExampleModule.o libnwtc.a

libnwtc.a : $(OBJ)
	ar cr libnwtc.a $(OBJ)
	ranlib libnwtc.a

ModuleFluid_Types.f90 : ExampleModule.f90
	../../FAST/Registry/Source/registry.exe -Dregistry_modulefluid ExampleModule.f90

ModuleStructure_Types.f90 : ExampleModule.f90
	../../FAST/Registry/Source/registry.exe -Dregistry_modulestructure ExampleModule.f90

clean clena:
	/bin/rm -f *.o *.mod *.a ModuleFluid_Types.f90 ModuleStructure_Types.f90

### DO NOT DELETE OR EDIT THIS LINE
# Everything from here on down is generated by f90depend
# so do NOT add any translation rules below here.



#--- Module-Dependencies

NWTC_IO.o: SysGnuLinux.o
NWTC_Library.o: NWTC_Num.o NWTC_IO.o ModMesh.o
NWTC_Num.o: NWTC_IO.o
SysGnuLinux.o: SingPrec.o
ModMesh.o: SingPrec.o NWTC_Num.o ModMesh_Types.o

ExampleModule.o : ModuleFluid_Types.o ModuleStructure_Types.o
ModuleFluid_Types.o : ModuleFluid_Types.f90
ModuleStructure_Types.o : ModuleStructure_Types.f90


